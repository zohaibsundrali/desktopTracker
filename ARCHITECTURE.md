# Session Report Architecture & Data Flow

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DEVELOPER-TRACKER SYSTEM                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚  â”‚  TimerTracker    â”‚  (Main orchestrator)                           â”‚
â”‚  â”‚  (timer_tracker) â”‚                                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚           â”‚                                                           â”‚
â”‚      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚      â”‚                                                  â”‚             â”‚
â”‚      â–¼                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ Activity        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Trackers   â”‚            â”‚ Tracking Loop   â”‚   â”‚ Session      â”‚   â”‚
â”‚  â”‚             â”‚            â”‚                 â”‚   â”‚ Report       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚ Generator    â”‚   â”‚
â”‚  â”‚ â€¢ App       â”‚            â”‚ â”‚ AppMonitor  â”‚ â”‚   â”‚              â”‚   â”‚
â”‚  â”‚   Monitor   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ â”‚ (apps used) â”‚ â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚  â”‚             â”‚            â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚ â”‚SessionRepâ”‚â”‚   â”‚
â”‚  â”‚ â€¢ Mouse     â”‚            â”‚                 â”‚   â”‚ â”‚ort Class â”‚â”‚   â”‚
â”‚  â”‚   Tracker   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚  â”‚             â”‚            â”‚ â”‚ MouseTrackerâ”‚ â”‚   â”‚              â”‚   â”‚
â”‚  â”‚ â€¢ Keyboard  â”‚            â”‚ â”‚(mouse data) â”‚ â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚  â”‚   Tracker   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚ â”‚Applicationâ”‚   â”‚
â”‚  â”‚             â”‚            â”‚                 â”‚   â”‚ â”‚Summary    â”‚â”‚   â”‚
â”‚  â”‚ â€¢ Screenshotâ”‚            â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚  â”‚   Capture   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ â”‚KeyboardTrk â”‚ â”‚   â”‚              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚(typing data)â”‚ â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚                             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚ â”‚  Keyboardâ”‚   â”‚
â”‚                             â”‚                 â”‚   â”‚ â”‚Activity  â”‚â”‚   â”‚
â”‚                             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚                             â”‚ â”‚Screenshot   â”‚ â”‚   â”‚              â”‚   â”‚
â”‚                             â”‚ â”‚Capture      â”‚ â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚                             â”‚ â”‚(captures)   â”‚ â”‚   â”‚ â”‚   Mouse  â”‚â”‚   â”‚
â”‚                             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚ â”‚ Activity â”‚â”‚   â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚                                                   â”‚              â”‚   â”‚
â”‚                                                   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚                                                   â”‚ â”‚Screenshotâ”‚â”‚   â”‚
â”‚                                                   â”‚ â”‚Summary   â”‚â”‚   â”‚
â”‚                                                   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚             â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚        â”‚                                                              â”‚
â”‚        â–¼                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚   â”‚ Report Output Formats:   â”‚                                       â”‚
â”‚   â”‚                          â”‚                                       â”‚
â”‚   â”‚ â€¢ Console (ASCII Text)  â”‚                                       â”‚
â”‚   â”‚ â€¢ JSON (API/Database)   â”‚                                       â”‚
â”‚   â”‚ â€¢ Individual Sections   â”‚                                       â”‚
â”‚   â”‚ â€¢ Compact Summary       â”‚                                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Sequence Diagram

```
User Code                 Timer               Sessions      Report
   â”‚                      â”‚                     â”‚           â”‚
   â”‚â”€start()â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                     â”‚           â”‚
   â”‚                      â”‚â”€â”€â”€â”€â”€start_trackersâ”€â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€     â”‚
   â”‚                      â”‚(async)              â”‚ â”‚ â”‚ â”‚      â”‚
   â”‚                      â”‚                Apps Running...   â”‚
   â”‚                      â”‚                     â”‚ â”‚ â”‚ â”‚      â”‚
   â”‚â”€ (work happening)    â”‚â—„â”€tracking flowsâ”€â”€â”€â”€â”´â”€â”´â”€â”´â”€â”´â”€     â”‚
   â”‚                      â”‚                                   â”‚
   â”‚â”€stop()â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                                  â”‚
   â”‚                      â”‚â”€â” Stop all trackers              â”‚
   â”‚                      â”‚ â””â”€â”€get_summary()â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚                      â”‚â”€â”€â”€â”€collect_data()â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â–ºâ”‚
   â”‚                      â”‚                                   â”‚
   â”‚                      â”‚â•â•â•â•â•â•â•â•data in memoryâ•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
   â”‚                      â”‚                                   â”‚
   â”‚                      â”‚â”€construct SessionReportâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                      â”‚â”€â”€â”€â”€_generate_report()â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                      â”‚                                   â”‚
   â”‚                      â”‚â”€â”€â”€â”€_display_report()â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
   â”‚                      â”‚    (prints to console)  â”‚         â”‚
   â”‚                      â”‚                        â–¼         â”‚
   â”‚â—„â”€â”€â”€â”€â”€report displayedâ—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
   â”‚                      â”‚                                   â”‚
   â”‚â”€get_session_report()â–ºâ”‚â”€â”€â”€â”€register referenceâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                      â”‚                                   â”‚
   â”‚â—„â”€â”€â”€SessionReport obj â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€returnâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                      â”‚                                   â”‚
```

## Class Hierarchy

```
SessionReport
â”œâ”€â”€ session_id: str
â”œâ”€â”€ user_email: str
â”œâ”€â”€ start_time: str
â”œâ”€â”€ end_time: str
â”œâ”€â”€ total_duration_seconds: float
â”‚
â”œâ”€â”€ applications: ApplicationSummary
â”‚   â”œâ”€â”€ total_apps: int
â”‚   â”œâ”€â”€ total_app_time_seconds: float
â”‚   â””â”€â”€ apps: List[AppUsageDetail]
â”‚       â”œâ”€â”€ app_name: str
â”‚       â”œâ”€â”€ usage_seconds: float
â”‚       â””â”€â”€ sessions: int
â”‚
â”œâ”€â”€ keyboard: KeyboardActivitySummary
â”‚   â”œâ”€â”€ total_keys: int
â”‚   â”œâ”€â”€ unique_keys: int
â”‚   â”œâ”€â”€ words_per_minute: float
â”‚   â””â”€â”€ activity_percentage: float
â”‚
â”œâ”€â”€ mouse: MouseActivitySummary
â”‚   â”œâ”€â”€ total_events: int
â”‚   â”œâ”€â”€ move_events: int
â”‚   â”œâ”€â”€ click_events: int
â”‚   â”œâ”€â”€ scroll_events: int
â”‚   â””â”€â”€ distance_pixels: float
â”‚
â”œâ”€â”€ screenshots: ScreenshotSummary
â”‚   â”œâ”€â”€ total_captured: int
â”‚   â”œâ”€â”€ total_size_kb: float
â”‚   â””â”€â”€ last_capture_time: str
â”‚
â””â”€â”€ productivity_score: float (0-100)
```

## Report Generation Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: Collect Data from All Trackers                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  AppMonitor.get_summary() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  {                                          â”‚                  â”‚
â”‚    "total_apps": 5,                         â”‚                  â”‚
â”‚    "total_minutes": 150.0,                  â”‚                  â”‚
â”‚    "top_apps": [...]                        â”‚                  â”‚
â”‚  }                                          â”‚                  â”‚
â”‚                                             â”‚                  â”‚
â”‚  MouseTracker.get_stats()                   â”œâ”€â”€â”                â”‚
â”‚  {                                          â”‚  â”‚                â”‚
â”‚    "total_events": 3847,                    â”‚  â”‚                â”‚
â”‚    "move_events": 2500,                     â”‚  â”‚                â”‚
â”‚    ...                                      â”‚  â”‚                â”‚
â”‚  }                                          â”‚  â”‚                â”‚
â”‚                                             â”‚  â”‚                â”‚
â”‚  KeyboardTracker.get_stats() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                â”‚
â”‚  {                                          â”‚  â”‚                â”‚
â”‚    "total_keys_pressed": 15420,             â”‚  â”‚                â”‚
â”‚    "words_per_minute": 76.5,                â”‚  â”‚                â”‚
â”‚    ...                                      â”‚  â”‚                â”‚
â”‚  }                                          â”‚  â”‚                â”‚
â”‚                                             â”‚  â”‚                â”‚
â”‚  ScreenshotCapture.get_stats()              â”‚  â”‚                â”‚
â”‚  {                                          â”‚  â”‚                â”‚
â”‚    "total_captured": 15,                    â”‚  â”‚                â”‚
â”‚    "total_size_kb": 2450.75,                â”‚  â”‚                â”‚
â”‚    ...                                      â”‚  â”‚                â”‚
â”‚  }                                          â”‚  â”‚                â”‚
â”‚                                             â”‚  â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                â”‚
                                                 â–¼                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: Create Report Object                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  create_session_report(                                          â”‚
â”‚      session_data={...},          â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚      app_monitor_data={...},       â”€â”€â”€â”€â”€â”¤                       â”‚
â”‚      mouse_stats={...},            â”€â”€â”€â”€â”€â”¼â”€â–º SessionReport       â”‚
â”‚      keyboard_stats={...},         â”€â”€â”€â”€â”€â”¤   object created      â”‚
â”‚      screenshot_stats={...}        â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚  )                                                               â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ STEP 3: Format and Display                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  report.generate_text_report()  â”€â”€â–º Print to console           â”‚
â”‚                                                                  â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                             â”‚
â”‚  â•‘   ğŸ“Š SESSION ACTIVITY REPORT   â•‘                             â”‚
â”‚  â•‘                                â•‘                             â”‚
â”‚  â•‘  ğŸ“‹ SESSION INFORMATION         â•‘                             â”‚
â”‚  â•‘  ğŸ“± APPLICATION USAGE           â•‘                             â”‚
â”‚  â•‘  âŒ¨ï¸  KEYBOARD ACTIVITY          â•‘                             â”‚
â”‚  â•‘  ğŸ–±ï¸  MOUSE ACTIVITY             â•‘                             â”‚
â”‚  â•‘  ğŸ“¸ SCREENSHOT CAPTURE          â•‘                             â”‚
â”‚  â•‘  ğŸ“Š PRODUCTIVITY METRICS        â•‘                             â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                             â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: Make Available for Use                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  report.to_dict()        â”€â”€â–º JSON-ready dictionary              â”‚
â”‚  report.to_json()        â”€â”€â–º JSON string                        â”‚
â”‚  report.get_section()    â”€â”€â–º Individual sections                â”‚
â”‚  report.generate_compact_report() â”€â”€â–º Brief summary             â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Time Calculation Pipeline

```
Raw Seconds (from tracker)
       â”‚
       â–¼
seconds_to_hms() utility
       â”‚
    â”Œâ”€â”€â”´â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     â”‚          â”‚
    â–¼     â–¼          â–¼
  Hours Minutes  Seconds
    â”‚     â”‚          â”‚
    â””â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
String Format: "HH:MM:SS"
       â”‚
       â”œâ”€â”€â”€ "00:00:45"   (45 seconds)
       â”œâ”€â”€â”€ "00:05:30"   (5m 30s)
       â”œâ”€â”€â”€ "01:15:00"   (1h 15m)
       â””â”€â”€â”€ "24:30:00"   (24h+ sessions)

Used in:
â”œâ”€â”€ Application listing (per-app time)
â”œâ”€â”€ Activity summaries (total time)
â”œâ”€â”€ Duration displays
â””â”€â”€ JSON export
```

## Productivity Score Calculation

```
Input Data:
â”œâ”€â”€ Keyboard Activity (% active typing)
â”œâ”€â”€ Mouse Activity (% mouse usage)
â””â”€â”€ Overall Activity (% active vs idle)

Weights:
â”œâ”€â”€ Keyboard: 25%
â”œâ”€â”€ Mouse: 15%
â””â”€â”€ Activity: 60%

Formula:
Score = (KBD% Ã— 0.25) + (MOUSE% Ã— 0.15) + (ACTIVITY% Ã— 0.60)

Interpretation:
â”œâ”€â”€ 80-100: Excellent ğŸŒŸ
â”œâ”€â”€ 60-79: Good âœ“
â”œâ”€â”€ 40-59: Fair â‰ˆ
â””â”€â”€ 0-39: Low âš ï¸

Output: Single numerical score (0-100) with rating
```

## Database Integration

```
SessionReport.to_dict()
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ JSON Structure     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ {                  â”‚
â”‚  "session_id",     â”‚
â”‚  "user_email",     â”‚
â”‚  "timestamps",     â”‚
â”‚  "applications",   â”‚
â”‚  "keyboard",       â”‚
â”‚  "mouse",          â”‚
â”‚  "screenshots",    â”‚
â”‚  "productivity_s", â”‚
â”‚  ...               â”‚
â”‚ }                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
Supabase API
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ productivity_      â”‚
â”‚ sessions table     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ID                 â”‚
â”‚ session_id         â”‚
â”‚ user_id            â”‚
â”‚ user_email         â”‚
â”‚ start_time         â”‚
â”‚ end_time           â”‚
â”‚ duration           â”‚
â”‚ apps_used          â”‚
â”‚ productivity_score â”‚
â”‚ ...                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Error Handling Flow

```
collect_session_data()
       â”‚
       â”œâ”€â”€â–º try: app_monitor.get_summary()
       â”‚    â””â”€ except: set defaults, continue
       â”‚
       â”œâ”€â”€â–º try: mouse_tracker.get_stats()
       â”‚    â””â”€ except: skip, use defaults
       â”‚
       â”œâ”€â”€â–º try: keyboard_tracker.get_stats()
       â”‚    â””â”€ except: skip, use defaults
       â”‚
       â”œâ”€â”€â–º try: screenshot_capture.get_stats()
       â”‚    â””â”€ except: skip, use defaults
       â”‚
       â–¼
Graceful degradation:
- Missing trackers don't crash system
- Available data is still collected
- Report generates with partial data
- Errors logged to console
- User-friendly error messages
```

## Module Relationships

```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ timer_tracker   â”‚ (main orchestrator)
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
          â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Multiple â”‚   â”‚ session_     â”‚
    â”‚ Trackers â”‚   â”‚ report       â”‚
    â”‚          â”‚   â”‚              â”‚
    â”‚â€¢ App     â”‚   â”‚ â€¢ SessionRpt â”‚
    â”‚â€¢ Mouse   â”‚   â”‚ â€¢ App Summaryâ”‚
    â”‚â€¢ Keyboard   â”‚ â€¢ Keyboard    â”‚
    â”‚â€¢ Screenshotâ”‚ â€¢ Mouse       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â€¢ Screenshot â”‚
                   â”‚ â€¢ Utilities  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Output  â”‚              â”‚ Export       â”‚
    â”‚         â”‚              â”‚              â”‚
    â”‚â€¢ Consoleâ”‚              â”‚â€¢ JSON        â”‚
    â”‚â€¢ Text   â”‚              â”‚â€¢ API-ready   â”‚
    â”‚â€¢ Emoji  â”‚              â”‚â€¢ DB-ready    â”‚
    â”‚  Icons  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## System Dependencies

```
session_report.py
â”œâ”€â”€ dataclasses âœ…
â”œâ”€â”€ typing âœ…
â”œâ”€â”€ datetime âœ…
â”œâ”€â”€ json âœ…
â””â”€â”€ [NO external dependencies]

timer_tracker.py (enhanced)
â”œâ”€â”€ time âœ…
â”œâ”€â”€ threading âœ…
â”œâ”€â”€ datetime âœ…
â”œâ”€â”€ dataclasses âœ…
â”œâ”€â”€ typing âœ…
â”œâ”€â”€ supabase (existing)
â”œâ”€â”€ config (existing)
â”œâ”€â”€ app_monitor (existing)
â”œâ”€â”€ session_report (NEW) âœ…
â”œâ”€â”€ mouse_tracker (existing)
â”œâ”€â”€ keyboard_tracker (existing)
â””â”€â”€ screenshot_capture (existing)
```

## Report Output Formats

```
                    SessionReport object
                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”´â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼              â–¼ â–¼              â–¼
     generate_text    to_dict()       get_section()
     _report()        to_json()    generate_compact
                                    _report()
            â”‚              â”‚            â”‚     â”‚
            â–¼              â–¼            â–¼     â–¼
       Console         JSON         Individual  Brief
       (ASCII)      (Database)    Sections    Summary
       (Text)       (API)
       (Formatted)  (Export)
```

## Performance Characteristics

```
Time Complexity:
â”œâ”€â”€ Data Collection: O(n)  [n = number of trackers]
â”œâ”€â”€ Report Generation: O(m) [m = number of apps]
â”œâ”€â”€ JSON Export: O(m)       [m = number of apps]
â””â”€â”€ Display: O(1)           [console write]

Space Complexity:
â”œâ”€â”€ SessionReport: O(m)    [m = number of apps]
â”œâ”€â”€ JSON Data: O(m)
â””â”€â”€ Total Memory: < 5 MB   [typical usage]

Execution Time:
â”œâ”€â”€ Collection: < 100ms
â”œâ”€â”€ Generation: < 50ms
â”œâ”€â”€ Export: < 10ms
â””â”€â”€ Total: < 200ms         [very fast]
```

---

## Quick Reference

| Task | Method | Returns |
|------|--------|---------|
| Start | `tracker.start()` | bool |
| Stop | `tracker.stop()` | TrackingSession |
| Get Report | `tracker.get_session_report()` | SessionReport |
| Export JSON | `tracker.export_report_json()` | dict |
| Get Section | `report.get_section(name)` | str |
| Display Text | `report.generate_text_report()` | str |
| Display Compact | `report.generate_compact_report()` | str |
| To Dict | `report.to_dict()` | dict |
| To JSON | `report.to_json()` | str |

---

**Version**: 1.0  
**Status**: Complete  
**Last Updated**: February 20, 2026
